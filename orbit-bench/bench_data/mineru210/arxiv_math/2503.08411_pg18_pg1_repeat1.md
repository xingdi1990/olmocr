Before turning to the proof of Theorem 3.15, we gather a few facts relating hyperplanes and relative contact complexes.

Proposition 3.17. Let $X$ be a quasi-median graph and $\mathbb { G }$ be a collection of gated subgraphs. For a finite collection of hyperplanes $\mathcal { I }$ of $X$ , the following statements are equivalent:

$\mathcal { I }$ is a simplex of $\mathrm { { \ ; o n t ^ { \triangle } } } ( X , \mathbb { G } )$ ; there exists $Y \in \mathbb { G }$ and $x \in Y \cap \bigcap _ { J \in { \mathcal { J } } } N ( J )$ such that $Y$ contains the clique of $J$ containing x for each $J \in \mathcal { I }$ .

Moreover, if $\mathbb { G }$ is a star-covering collection of gated subgraphs, the above statements are equivalent to:

â€¢ for every $x \in \cap _ { J \in { \mathcal { I } } } N ( J )$ , there exists $Y \in \mathbb { G }$ that contains the clique of $J$ containing $x$ for each $J \in \mathcal { I }$ .

Proof. Suppose $\mathcal { I } = \{ J _ { 1 } , \ldots , J _ { n } \}$ is a simplex of $\mathrm { C o n t } ^ { \triangle } ( X , \mathbb { G } )$ . Then there exists $Y \in$ $\mathbb { G }$ such that $\{ N ( J _ { 1 } ) , \ldots , N ( J _ { n } ) \} \cup \{ Y \}$ is a collection of pairwise intersecting gated subgraphs, and the Helly property implies that $Y \cap \cap _ { i = 1 } ^ { n } N ( J _ { i } )$ is non-empty. Let $x \in$ $Y \cap \cap _ { i = 1 } ^ { n } N ( J _ { i } )$ . Since $J _ { i }$ crosses $Y$ , the clique of $J _ { i }$ containing $x$ is contained in $Y$ by Corollary 2.6. That the second and third statements imply the first one follows directly from the definitions.

Let us prove that the first statement implies the third one assuming that $\mathbb { G }$ is starcovering. Let $\mathcal { I } = \{ J _ { 1 } , \ldots , J _ { n } \}$ be a simplex of $\mathrm { C o n t } ^ { \triangle } ( X , \mathbb { G } )$ and $x \in \cap _ { J \in { \mathcal { I } } } N ( J )$ . The hyperplanes in $\mathcal { I }$ are pairwise in contact, and there exists $Z \in \mathbb { G }$ such that each $J \in \mathcal { I }$ crosses $Z$ . If $x \in Z \cap \bigcap _ { i = 1 } ^ { n } N ( J )$ , then Corollary 2.6 implies that the clique of $J$ containing $x$ is contained in $Z$ for each $J \in \mathcal { I }$ ; in this case, it suffices to set $Y : = Z$ . Suppose that $x \not \in Z \cap \bigcap _ { i = 1 } ^ { n } N ( J _ { i } )$ and let $J$ be a hyperplane separating $x$ from $Z$ , which we can choose to be tangent to $x$ . Let $C$ be the clique of $J$ containing $x$ . Since $\mathbb { G }$ is star-covering, there exists $Y \in \mathbb { G }$ containing all the prisms that contain $C$ . For every $1 \leq i \leq n$ , let $C _ { i }$ be the clique of $J _ { i }$ containing $x$ . Since $J$ is necessarily transverse to $J _ { i }$ , Proposition 2.10 implies that $C$ and $C _ { i }$ span a prism containing $x$ , and hence $C _ { i }$ is contained in $Y$ .

The rest of the section is dedicated to the proof of Theorem 3.15. We fix a quasi-median graph $X$ and a collection $\mathbb { G }$ of gated subgraphs. The equivalence of the two statements of Theorem 3.15 will be proven in Lemma 3.20 by showing that for each vertex $x \in X$ , $\operatorname { s L } _ { \mathbb { G } } ( x )$ is homotopy equivalent to $\operatorname { L } _ { \mathbb { G } } ( x )$ .

Let $X ^ { \left( \cdot \right) }$ be the perforation of $X$ , i.e. the space obtained from the prism-completion $X ^ { \sqcup }$ of $X$ by removing a small open ball around each vertex of a fixed radius $\epsilon < 1 / 2$ , if we endow $X ^ { \sqcup }$ with a length metric that extends the Euclidean metrics on its prisms. Given a vertex $x \in X$ , the sphere $S ( x , \epsilon )$ can be identified with the link of $x$ in the prismcompletion $X ^ { \sqcup }$ . In other words, we can think of $S ( x , \epsilon )$ as the simplicial complex whose vertices are the edges of $X$ containing $x$ and whose simplices are given by collections of edges contained in a common prism of $X$ .

When $\mathbb { G }$ is prism-covering, the complex $\operatorname { L } _ { \mathbb { G } } ( x )$ naturally contains $S ( x , \epsilon )$ as a subcomplex, which allows us to define

$$
X ^ { \mathbb { G } } : = X ^ { \odot } \cup \bigcup _ { x \in X } \operatorname { L } _ { \mathbb { G } } ( x )
$$

where each $\operatorname { L } _ { \mathbb { G } } ( x )$ is glued to $X ^ { \left( \bullet \right) }$ over $S ( x , \epsilon )$ .