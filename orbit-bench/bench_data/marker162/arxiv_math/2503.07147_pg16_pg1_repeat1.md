Lemma 5.3. There is an no such that the following holds for all n ≥ ng, 2-3 < < 1, c > 0, r, t ≥ (logn)2 and s ≥ 20rt. Let G be an n-vertex (e, c, s)-expander, let U ≤ V(G) satisfy |U| ≤ 2n/3. Then, in G we can find either

- (a) == pairwise vertex-disjoint stars of size t, whose centers are in U and whose leaves are in V (G) = U, or
- (b) a bipartite subgraph H with vertex classes U and X ≤ V(G) U such that
	- |X| ≥ ≥(log n)c and
	- · every vertex in X has degree at least r in H and every vertex in U has degree at most 2t in H.

Proof. Take a maximal collection C of pairwise vertex-disjoint stars in G with t leaves centres in U and leaves outside of U. Let C C U be the set of centres of these stars and L ≤ V(G) - U be the set consisting of all their leaves. Suppose a) does not hold. Then we can assume that |C| ≤ = = = + + = = + + + = = + , and, by the maximality of C, that there is no vertex in U - C with at least t neighbours in G in V(G) - (U U L). Thus,

$$|N\_G(U-C)| \le |C| + |L| + |U-C| \cdot t \le \frac{|U|}{10r} + |C| \cdot t + |U-C| \cdot t < 2|U| \cdot t. \tag{6}$$

We now construct a set X ≤ V(C) - U and a bipartite subgraph H with vertex classes U and X using the following process, starting with Xo = 0 and setting Ho be the graph with vertex set UUXo and no edges. Let k = V (C) -U and label the vertices of V(G) - U arbitrarily as v1, ... , vk. For each i ≥ 1, if possible, pick a star Si in G with centre v; and r leaves in U such that the vertices in U in the graph H;\_1 U S; have degree at most 2t, and let Hz = Hi-1 US; and Xa = Xi-1 U {v}}, while otherwise we set Hi = Hi-1 and Xi = Xi-1. Finaly, let H = Hx and X = Xx = V(Hk) = U. We will now show that b) holds for this choice of H (with vertex classes U and X).

Firstly, observe that every vertex of U has degree at most 2t in H2 for each i E |}| by construction, and that every vertex v; in X has degree exactly r in H, so the second condition in b) holds. Thus, we only need to show that |X | ≥ 2(logn)= holds.

To see this, let U' be the set of vertices in U - C with degree exactly 2t in H. As each vertex in U - C has fewer than t neighbours in G in X - L (due to the maximality of the collection of stars C), the vertices in U' must have at least t neighbours in H in X ∩ L. As each vertex in X ∩ L has ㅠ neighbours in H, we have

$$|U'| \le \frac{r|X \cap L|}{t} \le \frac{r}{t} \cdot |L| \le \frac{r}{t} \cdot \frac{|U| \cdot t}{10r} = \frac{|U|}{10}.$$

Let B = C'UU', so that

$$|B| \le \frac{|U|}{10r} + \frac{|U|}{10} \le \frac{|U|}{2},$$

and, thus, U-B| ≥ - .

Then, by Proposition 5.2 applied to U – B with d = r, we have either |Ne(U – B)| ≥ 345, 0r |Ng, (U – B)| ≥ e|U – B| As

$$\frac{s|U-B|}{2r} \ge \frac{s|U|}{4r} \ge 5t|U|,$$

the former inequality contradicts (6), so we have that |Nc., (U – B) ≥ 55 = - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - at least r neighbours in G in U - B, and vertices of U - B must all have degree strictly less than 2t in H (as they are not in U'). This implies that every v; in Nc .. (U - B), satisfies v; E X, since we could add it along with some r of its neighbours while constructing H. Hence, No, , (U - B) C X, and

$$|X| \ge |N\_{G,r}(U - B)| \ge \frac{\varepsilon |U - B|}{(\log n)^c} \ge \frac{\varepsilon |U|}{2(\log n)^c},$$

as required.