Thus, the necessary optimality condition for a two-player game provides the conditions under which both players' controls are optimal in response to each other's strategies. Each player's control must satisfy the condition that the derivative of the Hamiltonian with respect to their control vanishes almost everywhere, ensuring that the strategy of each player is optimal given the strategy of the other player.

Proof. - Consider the variation of the functional J1 with respect to the control u1. We compute the derivative:

$$\left. \frac{d}{d\epsilon} J\_1(u\_1 + \epsilon v\_1, u\_2) \right|\_{\epsilon=0}.$$

Expanding the objective functional:

$$\frac{d}{d\epsilon}J\_1(u\_1+\epsilon v\_1, u\_2)\Big|\_{\epsilon=0} = \lim\_{\epsilon \to 0} \frac{1}{\epsilon} \mathbb{E}\left[\int\_{R\_Z} \left\{f\_1(\zeta, Y^{\{u\_1+\epsilon v\_1, u\_2\}}(\zeta), u\_1(\zeta) + \epsilon v\_1(\zeta), u\_2(\zeta))\right\}\right]$$

$$-f\_1(\zeta, Y^{\{u\_1, u\_2\}}(\zeta), u\_1(\zeta), u\_2(\zeta))\Big\} d\zeta + g\_1(Y^{\{u\_1+\epsilon v\_1, u\_2\}}(Z)) - g\_1(Y^{\{u\_1, u\_2\}}(Z))\Big].$$

Using the first-order expansion:

$$\begin{split} \frac{d}{d\epsilon}J\_1(u\_1+\epsilon v\_1, u\_2)\Big|\_{\epsilon=0} &= \mathbb{E}\left[\int\_{R\_Z} \left\{\frac{\partial f\_1}{\partial y}(\zeta, Y^{\{u\_1, u\_2\}}(\zeta), u\_1(\zeta), u\_2(\zeta))G\_1(\zeta) \\ &+ \frac{\partial f\_1}{\partial u\_1}(\zeta, Y^{\{u\_1, u\_2\}}(\zeta), u\_1(\zeta), u\_2(\zeta))v\_1(\zeta) \right\} d\zeta + \frac{\partial g\_1}{\partial y}(Y^{\{u\_1, u\_2\}}(Z))G\_1(Z) \Big], \end{split}$$

where G1 is the variation in the system's state due to the change in control. We now decompose it into two terms:

$$\left. \frac{d}{d\epsilon} J\_1(u\_1 + \epsilon v\_1, u\_2) \right|\_{\epsilon=0} = I\_1 + I\_2,$$

where

$$\begin{split} I\_{1} &= \mathbb{E} \left[ \int\_{R\_{Z}} \left( \frac{\partial H\_{1}}{\partial y}(\zeta) - \frac{\partial \alpha}{\partial y}(\zeta)p\_{1}(\zeta) - \frac{\partial \beta}{\partial y}(\zeta)q\_{1}(\zeta) - (L\_{1} \star \frac{\partial \alpha}{\partial y})(\zeta) \right) G\_{1}(\zeta) d\zeta \\ &+ \int\_{R\_{Z}} \left( \frac{\partial H\_{1}}{\partial u\_{1}}(\zeta) - \frac{\partial \alpha}{\partial u\_{1}}(\zeta)p\_{1}(\zeta) - \frac{\partial \beta}{\partial u\_{1}}(\zeta)q\_{1}(\zeta) - (L\_{1} \star \frac{\partial \alpha}{\partial u\_{1}})(\zeta) \right) v\_{1}(\zeta) d\zeta \right], \end{split}$$